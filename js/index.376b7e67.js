(function(t){function e(e){for(var n,s,i=e[0],c=e[1],l=e[2],d=0,f=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={index:0},o=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/86ed/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"09f3":function(t,e,a){},"22ce":function(t,e,a){},"23bf":function(t,e,a){"use strict";a("bb14")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),r=a("3fd4"),o=(a("7dd6"),{class:"App"}),s=Object(n["m"])("p",{class:"textbox"},[Object(n["l"])(" The hospitality industry has always been a critical component of New York City’s economic and cultural significance, employing hundreds of thousands, attracting millions of visitors who spend around "),Object(n["m"])("span",{style:{"font-weight":"bold",color:"#f2994b"}},"$46 billion"),Object(n["l"])(" annually, and contributing to its image as a cultural powerhouse. The New York City restaurant industry accounted for about "),Object(n["m"])("span",{style:{"font-weight":"bold",color:"#f2994b"}},"1 in 12"),Object(n["l"])(" private sector jobs and establishments citywide in 2019. Most of the labour which the industry relies upon is largely undocumented and therefore, unprotected. This labour is also predominantly made up of minority populations with relative lower average wages compared to the rest of the city. ")],-1),i=Object(n["m"])("p",{class:"textbox"},[Object(n["l"])(" Labour employment in the restaurant industry grew at double the rate of total private sector employment. In 2019, the city’s restaurant industry employed "),Object(n["m"])("span",{style:{"font-weight":"bold",color:"#ff4136"}},"317,800"),Object(n["l"])(" jobs - relative to only a decade ago, when it had"),Object(n["m"])("span",{style:{"font-weight":"bold",color:"#f2994b"}}," 120,000"),Object(n["l"])(" jobs. ")],-1),c=Object(n["m"])("p",{class:"textbox"}," As the lockdown began, New York City’s restaurant industry faced an unprecedented near-decimation in the daily patronage it experienced. Fear of the virus, but also general economic anxiety kept demand low for even those restaurants which had pivoted quickly to a take-out and delivery model. In fact, restaurants in neighbourhoods such as Chinatown and Flushing had begun seeing declines since the first news of the virus came in January 2020. It is also then when the city first faced a worrying rise in the number of anti-Asian violence - which would only exacerbate later as the pandemic continued. Reports of famous establishments facing an irrecoverable decline in business were coming long before the lockdown began in March. Mass-cancellations, both by the customers and the restaurants themselves had already begun, even as the city and state governments mulled over the decision to close restaurants for indoor dining. ",-1),l=Object(n["m"])("p",{class:"textbox"},[Object(n["l"])(" However, only once the lockdown entered its first month did a clearer picture of the fallout arise. The industry faced a crisis unlike any other in its history. Restaurants all across the city shutdown, either temporarily or indefinitely, and laid off the staff. Employment in the restaurant industry had reached a new high in the end of March 2020 at "),Object(n["m"])("span",{style:{"font-weight":"bold",color:"#f2994b"}},"~320,000"),Object(n["l"])(" sharply declined to "),Object(n["m"])("span",{style:{"font-weight":"bold",color:"#ff4136"}},"~87,500"),Object(n["l"])(" in April 2020 - wiping out at least 30 years of growth in jobs. ")],-1),u=Object(n["m"])("p",{class:"textbox"},[Object(n["l"])(" The lockdowns triggered the "),Object(n["m"])("span",{style:{"font-weight":"bold",color:"#de3131"}},"largest contraction of economic activity "),Object(n["l"])(" for the restaurant industry in its history ")],-1),d={class:"emp-box"},f=Object(n["m"])("div",{class:"text"},[Object(n["m"])("p",{class:"textbox"},[Object(n["m"])("span",{style:{"font-weight":"bold",color:"#f2994b"}},"Hispanics"),Object(n["l"])(" are the largest share of restaurant labour at "),Object(n["m"])("span",{style:{"font-weight":"bold",color:"#f2994b"}},"44%"),Object(n["l"])(" and a higher share than among all workers. Asians also represented a higher share of restaurant workers than among all occupations citywide, in contrast to either Whites or African Americans ")])],-1),b={class:"chart"};function h(t,e,a,r,h,p){var m=Object(n["M"])("el-image"),y=Object(n["M"])("el-header"),j=Object(n["M"])("Timeline"),g=Object(n["M"])("ImpactBAN"),O=Object(n["M"])("StackedBar"),v=Object(n["M"])("el-main"),w=Object(n["M"])("el-container");return Object(n["D"])(),Object(n["i"])("div",o,[Object(n["m"])(m,{src:"hero-title.png",alt:""}),Object(n["m"])(m,{src:"hero-subtitle.png",alt:""}),Object(n["m"])(w,null,{default:Object(n["ab"])((function(){return[Object(n["m"])(y),Object(n["m"])(v,null,{default:Object(n["ab"])((function(){return[Object(n["m"])(m,{src:"cases-pre.svg",alt:""}),s,i,Object(n["m"])(j,{filterData:p.filterJobsPre},null,8,["filterData"]),Object(n["m"])(m,{src:"emp-post.svg",alt:""}),c,Object(n["m"])(j,{filterData:p.filterCasesPre},null,8,["filterData"]),l,Object(n["m"])(j,{filterData:p.filterJobsPost},null,8,["filterData"]),u,Object(n["m"])(g),Object(n["m"])("div",d,[f,Object(n["m"])("div",b,[Object(n["m"])(O)])])]})),_:1})]})),_:1})])}a("159b"),a("4de4");var p=a("5698"),m=(a("99af"),Object(n["m"])("linearGradient",{id:"myGradient",gradientUnits:"userSpaceOnUse",x1:"10",y1:"350",x2:"0",y2:"150"},[Object(n["m"])("stop",{offset:"0%","stop-color":"#F2994B","stop-opacity":"100%"}),Object(n["m"])("stop",{offset:"15%","stop-color":"#F2994B"}),Object(n["m"])("stop",{offset:"30%","stop-color":"#FF851B"}),Object(n["m"])("stop",{offset:"70%","stop-color":"#FF851B"}),Object(n["m"])("stop",{offset:"95%","stop-color":"#E3170A"}),Object(n["m"])("stop",{offset:"100%","stop-color":"#E3170A"})],-1));function y(t,e,a,r,o,s){var i=Object(n["M"])("YAxis");return Object(n["D"])(),Object(n["i"])("svg",{viewBox:"0 0 ".concat(o.width," ").concat(o.height)},[m,Object(n["m"])("path",{d:s.case_countLine,data:a.filterData,fill:"none",stroke:"url(#myGradient)","stroke-width":"2.2"},null,8,["d","data"]),Object(n["m"])(i,{yScale:s.yScale,xTranslate:o.margin},null,8,["yScale","xTranslate"])],8,["viewBox"])}var j=Object(n["eb"])("data-v-a3e0d720"),g=j((function(t,e,a,r,o,s){return Object(n["D"])(),Object(n["i"])("g",{class:"axis y-axis",transform:"translate(".concat(a.xTranslate,", 0)")},null,8,["transform"])})),O=(a("a9e3"),{name:"YAxis",props:{yScale:Function,xTranslate:Number},updated:function(){Object(p["n"])(".y-axis").call(Object(p["b"])(this.yScale).ticks(10))}});a("932f");O.render=g,O.__scopeId="data-v-a3e0d720";var v=O,w={name:"Timeline",props:{filterData:Array},created:function(){},components:{YAxis:v},computed:{xScale:function(){return p["l"]().domain(p["e"](this.filterData,(function(t){return t.year}))).range([this.margin,this.width-this.margin])},yScale:function(){return p["j"]().domain(p["e"](this.filterData,(function(t){return t.cases}))).range([this.height-this.margin,this.margin])},case_countLine:function(){var t=this,e=p["f"]().x((function(e){return t.xScale(e.year)})).y((function(e){return t.yScale(e.cases)})).curve(p["d"]);return e(this.filterData)}},data:function(){return{margin:50,width:1400,height:400}}};a("f4d5");w.render=y;var x=w,_={id:"stacked-chart"};function D(t,e,a,r,o,s){var i=Object(n["M"])("XAxis");return Object(n["D"])(),Object(n["i"])("svg",_,[Object(n["m"])(i,{xScale:s.xScale,yTranslate:this.height+this.margin},null,8,["xScale","yTranslate"])])}a("fb6a"),a("d3b7"),a("ddb0");var k=Object(n["eb"])("data-v-b34f8c5c"),S=k((function(t,e,a,r,o,s){return Object(n["D"])(),Object(n["i"])("g",{class:"axis x-axis",transform:"translate(0, ".concat(a.yTranslate,")")},null,8,["transform"])})),A={name:"XAxis",props:{xScale:Function,yTranslate:Number},updated:function(){Object(p["n"])(".x-axis").call(Object(p["a"])(this.xScale).ticks(10))}};a("914a");A.render=S,A.__scopeId="data-v-b34f8c5c";var M=A,T={name:"StackedBar",data:function(){return{margin:100,width:500,height:500,empData:[],subgroups:[],groups:[],stackedData:Object}},created:function(){var t=this;p["c"]("./race_empl_flat.csv").then((function(e){e.forEach((function(t){t.emp_type=t["emp"],t.Hispanic=+t.Hispanic,t.Asian=+t.Asian,t.White=+t.White,t.African_American=+t.African_American,t.Other=+t.Other})),t.empData=e,console.log(t.empData),t.subgroups=t.empData.columns.slice(1),t.groups=p["g"](t.empData,(function(t){return t.emp})),console.log(t.subgroups),console.log(t.groups)}))},components:{XAxis:M},computed:{xScale:function(){return p["i"]().domain(this.groups).range([this.margin,this.width-this.margin]).padding([.2])},yScale:function(){return p["j"]().domain([0,100]).range([this.height,0])},colorScale:function(){return p["k"]().domain(this.subgroups).range(p["m"])}},mounted:function(){p["n"]("#stacked-chart").attr("width",this.width+this.margin+this.margin).attr("height",this.height+this.margin+this.margin).append("g").attr("class","stacks")},updated:function(){var t=this;this.stackedData=p["o"]().keys(this.subgroups)(this.empData);var e=this.stackedData;console.log(e);var a=p["n"](".stacks").append("g").selectAll("g").data(e).enter().append("g");a.attr("fill",(function(e){return t.colorScale(e.key)})).selectAll("rect").data((function(t){return t})).enter().append("rect").attr("x",(function(e){return t.xScale(e.data.emp_type)})).attr("y",(function(e){return t.yScale(e[1])})).attr("height",(function(e){return t.yScale(e[0])-t.yScale(e[1])})).attr("width",t.xScale.bandwidth()).on("mouseover",(function(){n.style("display",null)})).on("mouseout",(function(){n.style("display","none")})).on("mousemove",(function(t){var e=p["h"](t)[0]-15,a=p["h"](t)[1]-25,r=t.target.__data__[1]-t.target.__data__[0];console.log(t),n.attr("transform","translate("+e+","+a+")"),n.select("text").text(r+"%")})),a.append("text").attr("x",(function(e){return t.xScale(e.key)})).attr("y",(function(e){return t.yScale(e[0][0])})).attr("dx",400).attr("dy","0em").attr("fill","white").style("font-size","0.80em").text((function(t){return t.key}));var n=a.append("g").attr("class","tooltip").style("display","none");n.append("rect").attr("width",100).attr("height",20).attr("fill","white").style("opacity",.5),n.append("text").attr("x",50).attr("dy","1em").style("text-anchor","middle").attr("font-size","10px").attr("font-weight","bold")}};a("23bf");T.render=D;var P=T,B={key:0},F={key:1},C={key:2};function J(t,e,a,r,o,s){var i=Object(n["M"])("el-carousel-item"),c=Object(n["M"])("el-carousel");return Object(n["D"])(),Object(n["i"])(c,{"indicator-position":"outside",height:"700px",trigger:"click",arrow:"hover"},{default:Object(n["ab"])((function(){return[(Object(n["D"])(!0),Object(n["i"])(n["b"],null,Object(n["K"])(o.bans,(function(t){return Object(n["D"])(),Object(n["i"])(i,{key:t},{default:Object(n["ab"])((function(){return[Object(n["m"])("h1",null,Object(n["Q"])(t),1),"71%"===t?(Object(n["D"])(),Object(n["i"])("p",B," of revenue lost compared to the previous year ")):Object(n["j"])("",!0),"$2.8b"===t?(Object(n["D"])(),Object(n["i"])("p",F," in total revenue lost compared to the previous year ")):Object(n["j"])("",!0),"40%"===t?(Object(n["D"])(),Object(n["i"])("p",C,"of restaurants temporarily shutdown")):Object(n["j"])("",!0)]})),_:2},1024)})),128))]})),_:1})}var N={name:"ImpactBAN",data:function(){return{bans:["71%","$2.8b","40%"]}}};a("e0a3");N.render=J;var E=N,I={name:"App",created:function(){var t=this;p["c"]("./fred_nyc_fs_empl.csv").then((function(e){e.forEach((function(t){t.cases=+t["fs_emp"],t.year=new Date(t["DATE"])})),t.jobsData=e,p["c"]("./cases-by-day.csv").then((function(e){e.forEach((function(t){t.cases=+t["CASE_COUNT"],t.year=new Date(t.date_of_interest)})),t.casesData=e}))}))},components:{Timeline:x,StackedBar:P,ImpactBAN:E},data:function(){return{jobsData:[],casesData:[],jobs_date_pre:Date.parse("01 Jan 1990"),jobs_date_post:Date.parse("01 Jan 2020"),jobs_date_post_new:Date.parse("1/4/20"),cases_date_pre:Date.parse("29 Feb 2020"),cases_date_post:Date.parse("19 Mar 2020"),cases_date_post_new:Date.parse("30 Mar 2021")}},mounted:function(){},computed:{filterJobsPre:function(){var t=this.jobs_date_pre,e=this.jobs_date_post;return this.jobsData.filter((function(a){var n=a.year;return n>=t&&n<=e}))},filterJobsPost:function(){var t=this.jobs_date_pre,e=this.jobs_date_post_new;return this.jobsData.filter((function(a){var n=a.year;return n>=t&&n<=e}))},filterCasesPre:function(){var t=this.cases_date_pre,e=this.cases_date_post;return this.casesData.filter((function(a){var n=a.year;return n>=t&&n<=e}))},filterCasesPost:function(){var t=this.cases_date_pre,e=this.cases_date_post_new;return this.casesData.filter((function(a){var n=a.year;return n>=t&&n<=e}))}},methods:{}};a("7339");I.render=h;var Y=I;Object(n["h"])(Y).use(r["a"]).mount("#app")},"57be":function(t,e,a){},7339:function(t,e,a){"use strict";a("57be")},"914a":function(t,e,a){"use strict";a("d88f")},"932f":function(t,e,a){"use strict";a("e77f")},bb14:function(t,e,a){},d88f:function(t,e,a){},e0a3:function(t,e,a){"use strict";a("09f3")},e77f:function(t,e,a){},f4d5:function(t,e,a){"use strict";a("22ce")}});
//# sourceMappingURL=index.376b7e67.js.map